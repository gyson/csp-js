!function e(){function t(e,t){if("[object Generator]"!==Object.prototype.toString.call(e)){if(!e||!e.constructor||"GeneratorFunction"!==e.constructor.name)throw new Error("go() only accept generator object / function!");e=e()}var r=e.ret=new o;return e.isSafe=t?!0:!1,n(e,"next",void 0),r}function n(e,t,n){var r,s,i,u;if("function"==typeof e)return"next"===t?e(null,n):e(n);for(;;){if(e.isSafe)try{r=e[t](n)}catch(f){e.ret.throw(f);break}else r=e[t](n);if(r.done){e.ret.put(r.value);break}if(s=r.value,!(s instanceof o))throw new Error("Can only yield Channel type!");if(s.length<=0){if(s.isClosed){t="throw",n=s.closedMessage;continue}s._store[s.offset+s.length]=e,s.length-=1;break}i=s.offset in s._error,u=i?s._error:s._store,n=u[s.offset],delete u[s.offset],s.length-=1,s.offset+=1,t=i?"throw":"next"}}function o(){this.length=0,this.offset=0,this._store={},this._error={},this.isClosed=!1}t.isNode=!("undefined"==typeof module||!module.exports),(t.isNode?global:window).go=t,t.script={go:";("+e.toString()+"());",get all(){return t.script.go+(t.script.util||"")+(t.script.module||"")+(t.script.web||"")}},t.safe=function(e){return t(e,!0)},t.yield=function(e,t){if(e.length<=0)return void(e.isClosed?t(e.closedMessage):(e._store[e.offset+e.length]=t,e.length-=1));var n=e.offset in e._error,o=n?e._error:e._store,r=o[e.offset];delete o[e.offset],e.length-=1,e.offset+=1,n?t(r):t(null,r)},t.Channel=o,o.prototype.put=function(e){if(this.isClosed)throw new Error("channel is closed.");this.length<0?n(this.take(),"next",e):(this._store[this.offset+this.length]=e,this.length+=1)},o.prototype.putFront=function(e){this.length<=0?this.put(e):(this._store[this.offset-1]=e,this.length+=1)},o.prototype.throw=function(e){if(this.isClosed)throw new Error("channel is closed.");this.length<0?n(this.take(),"throw",e):(this._error[this.offset+this.length]=e,this.length+=1)},o.prototype.close=function(e){if(!this.isClosed)for(this.isClosed=!0,this.closedMessage=new Error("Channel is closed"),this.closedMessage.info=e;this.length<0;)n(this.take(),"throw",this.closedMessage)},o.prototype.take=function(){if(this.length>=0)throw new Error("no generator to take");var e=this._store[this.offset];return delete this._store[this.offset],this.length+=1,this.offset-=1,e}}(),function t(){console.assert("undefined"!=typeof go),go.isWorker=go.isNode?!!process.send:void 0===window.document,go.script.util=";("+t.toString()+"());",go.assert=function(e,t){if(!e)throw new Error(t)},go.isObject=function(e){return e===Object(e)},["Arguments","Function","String","Number","Date","RegExp"].forEach(function(e){var t=Object.prototype.toString,n="[object "+e+"]";go["is"+e]=function(e){return t.call(e)===n}}),go.supportGenerator=void 0,go.delete=function(e,t){var n=e[t];return delete e[t],n},go.insert=function(e,t){for(;;){var n=Math.ceil(1e15*Math.random());if(!(n in e))return e[n]=t,n}},go.extend=function(e){for(var t=arguments,n=1;n<t.length;n++)Object.keys(t[n]).forEach(function(o){e[o]=t[n][o]});return e},go.Events=function(){},go.extend(go.Events.prototype,{on:function(e,t){if("function"!=typeof t)throw new Error("listener must be a function!");return this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){if(!this._events)return this;if(0===arguments.length)this._events={};else if(1===arguments.length)delete this._events[e];else{var n=this._events&&this._events[e];if(void 0===n)return this;for(var o=0;o<n.length;o++)if(n[o]===t){n.splice(o,1);break}}return this},emit:function(){if(!this._events)return 0;var e=this._events[arguments[0]];if(void 0===e)return 0;for(var t=1;t<arguments.length;t++)arguments[t-1]=arguments[t];arguments.length--;for(var t=0;t<e.length;t++)e[t].apply(this,arguments);return e.length}}),go.extend(go,go.Events.prototype),go.sleep=function(e){var t=new go.Channel;return setTimeout(function(){t.put(void 0)},e),t}}(),function n(){console.assert("undefined"!=typeof go);var e=go.isNode;if(go.script.module=";("+n.toString()+"());",go.resolve=function(){var e="http://"===arguments[0].slice(0,7);e&&(arguments[0]=arguments[0].slice(7));for(var t=[],n=0;n<arguments.length;n++)arguments[n].split("/").forEach(function(e){""!==e&&"."!==e&&(".."===e?t.pop():t.push(e))});return(e?"http://":"/")+t.join("/")},go.on("load",function(e){"http://"===e.slice(0,7)&&go.yield(go.request(e),function(t,n){if(t)throw t;if(200!==n.statusCode)throw new Error("Cannot find: "+e);go.define(e,n.text)})}),e){var t=require("fs");go.on("load",function(e){"/"===e[0]&&t.readFile(e,function(t,n){if(t)throw t;go.define(e,n.toString())})})}var o={},r={};go.define=function(e,t){if(e in o)throw new Error(e+" is already defined!");o[e]=t,e in r&&(r[e].forEach(function(e){e.put(t)}),delete r[e]),go.emit("define",e,t)},go.isLoaded=function(e){return e in o},go.load=function(e){var t=new go.Channel;return go.isLoaded(e)?t.put(o[e]):(r[e]=r[e]||[],r[e].push(t),go.emit("load",e)),t},go.isRequired=function(e){return e in s};var s={},i={};if(go.require=function(e){var t=new go.Channel;return go.isRequired(e)?t.put(s[e]):e in i?i[e].push(t):(i[e]=[],i[e].push(t),go.yield(go.load(e),function(t,n){var o=go.resolve(e,"../"),r=e,u=function(e){return go.require(go.resolve(o,e))},f=function(e){return go.load(go.resolve(o,e))},a=!1,h=function(t){go.assert(!a,"Already export "+r+"!"),a=!0,s[e]=t,i[e].forEach(function(e){e.put(t)})};if(go.isNode&&"/"===e[0]){var g=require("module"),c=new g(e),l=new Function("$load","$require","$export","__dirname","__filename","require",n);l(f,u,h,o,r,c.require.bind(c))}else{var l=new Function("$load","$require","$export","__dirname","__filename",n);l(f,u,h,o,r)}}),go.emit("require",e)),t},go.isNode){var u=require("child_process");go.spawn=function(e,t){var n=u.fork(__dirname+"/worker.js");return n.send(JSON.stringify([e,t||null])),n}}else{var f=go.script.all;f+=";self.addEventListener('message', function init (msg) {      self.removeEventListener(init);      var msg = JSON.parse(msg);      go.self = new go.Socekt(self);      go.self.main = msg[0];      go.self.args = msg[1];      go.require(go.self.main);  });";var a=new Blob([f]),h=window.URL.createObjectURL(a);go.spawn=function(e,t){var n=new Worker(h);return n.postMessage(JSON.stringify([e,t||null])),n}}go.createWorker=go.fork=go.spawn}(),function o(){function e(e,t){var n=JSON.parse(t),o=n[0];o>0?e._request.emit(n[1],n[2],function(t){sendMessage(e,JSON.stringify([-o,t]))}):0===o?e.emit(n[1],n[2]):(o=-o,o in e._channels?go.delete(e._channels,o).put(n[1]):console.log("Unknown message:",n))}function t(t,n){t.isReady=1===n.readyState,n.onopen=function(){t.isReady=!0;for(var e=0;e<t._queue.length;e++)n.send(t._queue[e]);t._queue=[],t.emit("ready")},n.onerror=function(e){t.emit("error",e.data)},n.onclose=function(e,n){t.isClosed=!0,t.emit("close",{code:e,reason:n})},n.onmessage=function(n){e(t,n.data)}}function n(e){e.isReady=!0}function r(t,n){t.isReady=!0,n.addEventListener("message",function(n){e(t,n.data)})}function s(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),n={},o=0;o<t.length;o++){var r=t[o];if(""!==r){var s=r.match(/^([^:]+):\s*(.*)/);if(s){var i=s[1].toLowerCase(),u=s[2];void 0!==n[i]?Array.isArray(n[i])?n[i].push(u):n[i]=[n[i],u]:n[i]=u}else n[r]=!0}}return n}console.assert("undefined"!=typeof go);var i=go.isNode;if(go.script.web=";("+o.toString()+"());",go.WebSocket=i?require("ws"):window.WebSocket,go.Socket=function(e,t){this._conn=e,this._queue=[],this._channels=[],this.isReady=!1,this.isClosed=!1,this._request=new go.Events,this._message=new go.Events,this.setup(e,t)},go.extend(go.Socket.prototype,go.Events.prototype,{setup:function(e,o){if("string"==typeof e){var s=e;e=new go.WebSocket(s,o),this.type="WebSocket",t(this,e)}else if(e instanceof go.WebSocket)this.type="WebSocket",t(this,e);else if(!i&&e instanceof Worker)this.type="WebWorker",r(this,e);else{if(!i||!e.pid)throw new Error("Type is not supported.");this.type="ChildProcess",n(this,e)}},send:function(e){var t=JSON.stringify(e);this.isReady?"WebWorker"===this.type?this._conn.postMessage(t):this._conn.send(t):this._queue.push(t)},onMessage:function(e,t){this._message.on(e,t)},offMessage:function(e,t){this._message.off(e,t)},onRequest:function(e,t){this._request.on(e,t)},offRequest:function(e,t){this._request.off(e,t)},sendMessage:function(e,t){this.send([0,e,t])},sendRequest:function(e,t){var n=new go.Channel;this.isClosed&&n.throw(new Error("Connection closed."));var o=go.insert(this._channels,n);return this.send([o,e,t]),n},flush:function(e){for(var t in this._channels)this._channels[t].throw(e);this._channels={}},close:function(){this.isClosed=!0,this.flush(),go.isMaster&&"WebWorker"===this.type?this._conn.terminate():this._conn.close()}}),i){var u=require("url").parse,f=require("http");go.request=function(e){if(go.isString(e))e=u(e);else{if(!e.url)throw new Error("invalid url");var t=u(e.url);for(var n in t)e[n]=t[n]}var o=new go.Channel,r=f.request(e,function(e){var t={};t.statusCode=e.statusCode,t.headers=e.headers,e.setEncoding("utf8");var n=[];e.on("data",function(e){n.push(e)}),e.on("end",function(){t.text=n.join(""),o.put(t)})}).on("error",function(e){o.throw(e)});return r.write(e.body||""),r.end(),o}}else go.request=function(e){go.isString(e)&&(e={url:e});var t=new XMLHttpRequest;t.open(e.method||"get",e.url,!0);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);t.send(e.body||null);var o=new go.Channel;return t.onreadystatechange=function(){4===t.readyState&&o.put({statusCode:t.status,text:t.responseText,headers:s(t)})},o}}();